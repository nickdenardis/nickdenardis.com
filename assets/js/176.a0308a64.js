(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{558:function(e,t,o){"use strict";o.r(t);var s=o(4),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("Trying to keep my Mac and software as lightweight as possible. I typically use "),t("a",{attrs:{href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Brew"),t("OutboundLink")],1),e._v(" to install everything and manage updates over time.")]),e._v(" "),t("p",[e._v("To keep branching and merging consistent between mutliple developers our choice is to use "),t("a",{attrs:{href:"https://nvie.com/posts/a-successful-git-branching-model/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("git-flow")]),t("OutboundLink")],1),e._v(". Previously using "),t("a",{attrs:{href:"https://github.com/Bash-it/bash-it",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("bash-it")]),t("OutboundLink")],1),e._v(" the "),t("code",[e._v("git-flow-completion")]),e._v(" module worked out of the box, but using "),t("code",[e._v("zsh")]),e._v(" for a few months now I struggled through something broken in the completion plugin.")]),e._v(" "),t("h2",{attrs:{id:"searching-all-the-stackoverflow-and-github-issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#searching-all-the-stackoverflow-and-github-issues"}},[e._v("#")]),e._v(" Searching all the Stackoverflow and Github issues")]),e._v(" "),t("p",[e._v("Like anything else I would spend a few minutes every week or so trying to get it to work and relentlessley went through "),t("a",{attrs:{href:"https://www.google.com/search?q=git-flow+completion+with+oh-my-zsh",target:"_blank",rel:"noopener noreferrer"}},[e._v("every post on Stackoverflow and Github issues describing fixes"),t("OutboundLink")],1),e._v(" to no avail. The issue seems to stem from "),t("code",[e._v("zsh")]),e._v(" not picking up the "),t("code",[e._v("oh-my-zsh")]),e._v(" completion plugin but instead picking up "),t("code",[e._v("brew")]),e._v("'s plugin.")]),e._v(" "),t("h2",{attrs:{id:"setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[e._v("#")]),e._v(" Setup")]),e._v(" "),t("p",[e._v("For context, the versions of everything I'm starting with as a fresh installation:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("MacOS 10.15.7\n▶ brew --version       \nHomebrew 2.5.6\n▶ git --version\ngit version 2.29.1\n▶ zsh --version\nzsh 5.7.1 (x86_64-apple-darwin19.0)\n")])])]),t("h2",{attrs:{id:"installing-the-git-flow-completion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-git-flow-completion"}},[e._v("#")]),e._v(" Installing the git-flow-completion")]),e._v(" "),t("p",[e._v("I ended up following the "),t("a",{attrs:{href:"https://github.com/bobthecow/git-flow-completion#installation-for-zsh",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("bobthecow/git-flow-completion")]),t("OutboundLink")],1),e._v(" guide for "),t("code",[e._v("zsh")]),e._v(" and used option "),t("code",[e._v("iii")]),e._v(" to install the plugin:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("git clone https://github.com/bobthecow/git-flow-completion ~/.oh-my-zsh/custom/plugins/git-flow-completion\n")])])]),t("p",[e._v("Opened up my "),t("code",[e._v("~/.zshrc")]),e._v(" file and added the plugin:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("plugins=(git-flow-completion)\n")])])]),t("p",[e._v("Saved and reloaded the terminal and tried to auto complete git-flow:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("git flow in[Tab]\n")])])]),t("p",[e._v("Expected: "),t("code",[e._v("init")]),e._v(" to be completed"),t("br"),e._v("\nActual: Only a list of files that matched the "),t("code",[e._v("in*")]),e._v(" pattern in the directory")]),e._v(" "),t("h2",{attrs:{id:"solution"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solution"}},[e._v("#")]),e._v(" Solution")]),e._v(" "),t("p",[e._v("Ended up "),t("a",{attrs:{href:"https://stackoverflow.com/a/63795166",target:"_blank",rel:"noopener noreferrer"}},[e._v("stumbling across this one comment on Stackoverflow"),t("OutboundLink")],1),e._v(" with no upvotes.")]),e._v(" "),t("p",[e._v("First remove these two files:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("rm /usr/local/share/zsh/site-functions/_git\nrm /usr/local/etc/bash_completion.d/git-flow-completion.bash\n")])])]),t("p",[e._v("Then reset the autocompletion cache:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# Delete the completion cache\nrm "$ZSH_COMPDUMP"\n# Restart the zsh session\nexec zsh\n')])])]),t("p",[e._v("And like magic the "),t("code",[e._v("git-flow")]),e._v(" autocompletion started working!")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("git flow in[Tab] -> git flow init\n")])])]),t("p",[e._v("If you stumbled across this and it worked (or didn't) "),t("a",{attrs:{href:"https://twitter.com/nickdenardis",target:"_blank",rel:"noopener noreferrer"}},[e._v("I'd love to hear about it"),t("OutboundLink")],1),e._v(". This has been frustrating me for the last few months after switching to "),t("code",[e._v("zsh")]),e._v(".")])])}),[],!1,null,null,null);t.default=a.exports}}]);