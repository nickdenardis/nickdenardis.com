<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Cypress JS to interact with CKEditor | Nick DeNardis</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@800&amp;display=swap">
    <link rel="alternate" type="application/rss+xml" href="https://nickdenardis.com/rss.xml" title="Nick DeNardis RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://nickdenardis.com/feed.atom" title="Nick DeNardis Atom Feed">
    <link rel="alternate" type="application/json" href="https://nickdenardis.com/feed.json" title="Nick DeNardis JSON Feed">
    <meta name="description" content="User experience, code, higher education, analytics and accessibility.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preload" href="/assets/css/5.styles.211a5be6.css" as="style"><link rel="preload" href="/assets/js/app.a998b7f8.js" as="script"><link rel="preload" href="/assets/js/1.45d583a6.js" as="script"><link rel="preload" href="/assets/js/172.45b8204f.js" as="script"><link rel="prefetch" href="/assets/js/0.a03cc5c3.js"><link rel="prefetch" href="/assets/js/10.23ee6975.js"><link rel="prefetch" href="/assets/js/100.c72211ca.js"><link rel="prefetch" href="/assets/js/101.9b090c2c.js"><link rel="prefetch" href="/assets/js/102.8672bfd1.js"><link rel="prefetch" href="/assets/js/103.6248483c.js"><link rel="prefetch" href="/assets/js/104.c4267a62.js"><link rel="prefetch" href="/assets/js/105.1e6710ae.js"><link rel="prefetch" href="/assets/js/106.c8039205.js"><link rel="prefetch" href="/assets/js/107.7999992a.js"><link rel="prefetch" href="/assets/js/108.c4823cdf.js"><link rel="prefetch" href="/assets/js/109.9c10b18e.js"><link rel="prefetch" href="/assets/js/11.4383083e.js"><link rel="prefetch" href="/assets/js/110.27c6b81d.js"><link rel="prefetch" href="/assets/js/111.76804b0a.js"><link rel="prefetch" href="/assets/js/112.7e4d1485.js"><link rel="prefetch" href="/assets/js/113.59ec89d4.js"><link rel="prefetch" href="/assets/js/114.1b68b2ca.js"><link rel="prefetch" href="/assets/js/115.96fd274f.js"><link rel="prefetch" href="/assets/js/116.0c897d90.js"><link rel="prefetch" href="/assets/js/117.da862b81.js"><link rel="prefetch" href="/assets/js/118.1ae48ed0.js"><link rel="prefetch" href="/assets/js/119.c468a4a8.js"><link rel="prefetch" href="/assets/js/12.71640846.js"><link rel="prefetch" href="/assets/js/120.34ea615a.js"><link rel="prefetch" href="/assets/js/121.71104f44.js"><link rel="prefetch" href="/assets/js/122.61d05244.js"><link rel="prefetch" href="/assets/js/123.b8ee4af2.js"><link rel="prefetch" href="/assets/js/124.44c2fe59.js"><link rel="prefetch" href="/assets/js/125.0b1608aa.js"><link rel="prefetch" href="/assets/js/126.d5fadf36.js"><link rel="prefetch" href="/assets/js/127.5889c4bb.js"><link rel="prefetch" href="/assets/js/128.6d7f1ffb.js"><link rel="prefetch" href="/assets/js/129.fa0d5dd2.js"><link rel="prefetch" href="/assets/js/13.8704ee6a.js"><link rel="prefetch" href="/assets/js/130.c3512746.js"><link rel="prefetch" href="/assets/js/131.5462c847.js"><link rel="prefetch" href="/assets/js/132.8963a4c4.js"><link rel="prefetch" href="/assets/js/133.39a6f891.js"><link rel="prefetch" href="/assets/js/134.b893e6c3.js"><link rel="prefetch" href="/assets/js/135.ad6f7032.js"><link rel="prefetch" href="/assets/js/136.77f74a0e.js"><link rel="prefetch" href="/assets/js/137.d8a5608d.js"><link rel="prefetch" href="/assets/js/138.15b763cc.js"><link rel="prefetch" href="/assets/js/139.f8904b45.js"><link rel="prefetch" href="/assets/js/14.db1425e7.js"><link rel="prefetch" href="/assets/js/140.be5d9f86.js"><link rel="prefetch" href="/assets/js/141.14c38bcc.js"><link rel="prefetch" href="/assets/js/142.276e941b.js"><link rel="prefetch" href="/assets/js/143.b8e4d859.js"><link rel="prefetch" href="/assets/js/144.987717f6.js"><link rel="prefetch" href="/assets/js/145.3112144b.js"><link rel="prefetch" href="/assets/js/146.66387de0.js"><link rel="prefetch" href="/assets/js/147.2f1784f8.js"><link rel="prefetch" href="/assets/js/148.538a87ea.js"><link rel="prefetch" href="/assets/js/149.c2963811.js"><link rel="prefetch" href="/assets/js/15.6340abad.js"><link rel="prefetch" href="/assets/js/150.700f909a.js"><link rel="prefetch" href="/assets/js/151.74afefe1.js"><link rel="prefetch" href="/assets/js/152.4a8eb8a8.js"><link rel="prefetch" href="/assets/js/153.73c6f9b1.js"><link rel="prefetch" href="/assets/js/154.8577ce55.js"><link rel="prefetch" href="/assets/js/155.f4d49bee.js"><link rel="prefetch" href="/assets/js/156.f76be38e.js"><link rel="prefetch" href="/assets/js/157.552fe2e8.js"><link rel="prefetch" href="/assets/js/158.8e7f1894.js"><link rel="prefetch" href="/assets/js/159.aba76131.js"><link rel="prefetch" href="/assets/js/16.15009533.js"><link rel="prefetch" href="/assets/js/160.f8847f1c.js"><link rel="prefetch" href="/assets/js/161.805ac63a.js"><link rel="prefetch" href="/assets/js/162.bb83fd93.js"><link rel="prefetch" href="/assets/js/163.c3558dfc.js"><link rel="prefetch" href="/assets/js/164.4a38ff73.js"><link rel="prefetch" href="/assets/js/165.acacb2f2.js"><link rel="prefetch" href="/assets/js/166.e6574f1c.js"><link rel="prefetch" href="/assets/js/167.4f6c1b74.js"><link rel="prefetch" href="/assets/js/168.037e71a8.js"><link rel="prefetch" href="/assets/js/169.deeb7e91.js"><link rel="prefetch" href="/assets/js/17.560dfef7.js"><link rel="prefetch" href="/assets/js/170.4e9f24be.js"><link rel="prefetch" href="/assets/js/171.d840633a.js"><link rel="prefetch" href="/assets/js/173.1bb26db7.js"><link rel="prefetch" href="/assets/js/174.ca922ec4.js"><link rel="prefetch" href="/assets/js/175.d895e69e.js"><link rel="prefetch" href="/assets/js/176.a0308a64.js"><link rel="prefetch" href="/assets/js/177.7b84339a.js"><link rel="prefetch" href="/assets/js/178.05214afd.js"><link rel="prefetch" href="/assets/js/179.18c68e36.js"><link rel="prefetch" href="/assets/js/18.36cb3a42.js"><link rel="prefetch" href="/assets/js/180.62d7682f.js"><link rel="prefetch" href="/assets/js/181.dd908a77.js"><link rel="prefetch" href="/assets/js/182.03b99f2b.js"><link rel="prefetch" href="/assets/js/183.0b197255.js"><link rel="prefetch" href="/assets/js/184.8b31c019.js"><link rel="prefetch" href="/assets/js/185.66f850c4.js"><link rel="prefetch" href="/assets/js/186.28a677ab.js"><link rel="prefetch" href="/assets/js/19.200953ad.js"><link rel="prefetch" href="/assets/js/2.70b8fae5.js"><link rel="prefetch" href="/assets/js/20.c50bf8b9.js"><link rel="prefetch" href="/assets/js/21.348971b8.js"><link rel="prefetch" href="/assets/js/22.df78faa8.js"><link rel="prefetch" href="/assets/js/23.294acac5.js"><link rel="prefetch" href="/assets/js/24.237dcbcf.js"><link rel="prefetch" href="/assets/js/25.0a66bc44.js"><link rel="prefetch" href="/assets/js/26.fa86f451.js"><link rel="prefetch" href="/assets/js/27.f5508e26.js"><link rel="prefetch" href="/assets/js/28.1608ff60.js"><link rel="prefetch" href="/assets/js/29.d9799c18.js"><link rel="prefetch" href="/assets/js/3.89f8a382.js"><link rel="prefetch" href="/assets/js/30.ded46b32.js"><link rel="prefetch" href="/assets/js/31.669d5186.js"><link rel="prefetch" href="/assets/js/32.aa8cdc59.js"><link rel="prefetch" href="/assets/js/33.c13081bb.js"><link rel="prefetch" href="/assets/js/34.5cbfc144.js"><link rel="prefetch" href="/assets/js/35.fb6c88af.js"><link rel="prefetch" href="/assets/js/36.999a1a33.js"><link rel="prefetch" href="/assets/js/37.2f4ec218.js"><link rel="prefetch" href="/assets/js/38.8a33b37b.js"><link rel="prefetch" href="/assets/js/39.94eda1b0.js"><link rel="prefetch" href="/assets/js/40.ede2babb.js"><link rel="prefetch" href="/assets/js/41.59eb64e0.js"><link rel="prefetch" href="/assets/js/42.73ca585b.js"><link rel="prefetch" href="/assets/js/43.8d18aac4.js"><link rel="prefetch" href="/assets/js/44.0850aad7.js"><link rel="prefetch" href="/assets/js/45.b220501c.js"><link rel="prefetch" href="/assets/js/46.0cf5759b.js"><link rel="prefetch" href="/assets/js/47.dfe4d828.js"><link rel="prefetch" href="/assets/js/48.d4708a5e.js"><link rel="prefetch" href="/assets/js/49.2234bee7.js"><link rel="prefetch" href="/assets/js/50.1f0e4dbe.js"><link rel="prefetch" href="/assets/js/51.f06a4341.js"><link rel="prefetch" href="/assets/js/52.1a576308.js"><link rel="prefetch" href="/assets/js/53.0071f524.js"><link rel="prefetch" href="/assets/js/54.23bf9424.js"><link rel="prefetch" href="/assets/js/55.7bcf6a1a.js"><link rel="prefetch" href="/assets/js/56.1a114cc9.js"><link rel="prefetch" href="/assets/js/57.2f21f386.js"><link rel="prefetch" href="/assets/js/58.2ec2e1e4.js"><link rel="prefetch" href="/assets/js/59.90f9a699.js"><link rel="prefetch" href="/assets/js/6.8413bf68.js"><link rel="prefetch" href="/assets/js/60.119e16d9.js"><link rel="prefetch" href="/assets/js/61.9935d013.js"><link rel="prefetch" href="/assets/js/62.f16f2c4c.js"><link rel="prefetch" href="/assets/js/63.64308c95.js"><link rel="prefetch" href="/assets/js/64.c2e45360.js"><link rel="prefetch" href="/assets/js/65.71fcb695.js"><link rel="prefetch" href="/assets/js/66.27a45872.js"><link rel="prefetch" href="/assets/js/67.991be8f7.js"><link rel="prefetch" href="/assets/js/68.24888674.js"><link rel="prefetch" href="/assets/js/69.88a684b9.js"><link rel="prefetch" href="/assets/js/7.7328311c.js"><link rel="prefetch" href="/assets/js/70.38456043.js"><link rel="prefetch" href="/assets/js/71.bb087e80.js"><link rel="prefetch" href="/assets/js/72.687ae35f.js"><link rel="prefetch" href="/assets/js/73.3475a1d9.js"><link rel="prefetch" href="/assets/js/74.619ca923.js"><link rel="prefetch" href="/assets/js/75.913df12d.js"><link rel="prefetch" href="/assets/js/76.b1e9499f.js"><link rel="prefetch" href="/assets/js/77.ab625ff6.js"><link rel="prefetch" href="/assets/js/78.7b832ed2.js"><link rel="prefetch" href="/assets/js/79.ae0d63f9.js"><link rel="prefetch" href="/assets/js/8.d5ef91b7.js"><link rel="prefetch" href="/assets/js/80.4eb7a997.js"><link rel="prefetch" href="/assets/js/81.3f64a8f9.js"><link rel="prefetch" href="/assets/js/82.25a2f7e8.js"><link rel="prefetch" href="/assets/js/83.38f98596.js"><link rel="prefetch" href="/assets/js/84.45eb85a9.js"><link rel="prefetch" href="/assets/js/85.95e89e42.js"><link rel="prefetch" href="/assets/js/86.ccbfcd71.js"><link rel="prefetch" href="/assets/js/87.60052306.js"><link rel="prefetch" href="/assets/js/88.c8177c63.js"><link rel="prefetch" href="/assets/js/89.b4f023d6.js"><link rel="prefetch" href="/assets/js/9.0d94340a.js"><link rel="prefetch" href="/assets/js/90.edca2aa2.js"><link rel="prefetch" href="/assets/js/91.3e771c18.js"><link rel="prefetch" href="/assets/js/92.4b8d29c3.js"><link rel="prefetch" href="/assets/js/93.453c32a0.js"><link rel="prefetch" href="/assets/js/94.0483e6ad.js"><link rel="prefetch" href="/assets/js/95.376391ba.js"><link rel="prefetch" href="/assets/js/96.8263c1d3.js"><link rel="prefetch" href="/assets/js/97.4e2f2893.js"><link rel="prefetch" href="/assets/js/98.2ddef35b.js"><link rel="prefetch" href="/assets/js/99.eb80932e.js">
    <link rel="stylesheet" href="/assets/css/5.styles.211a5be6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="container mx-auto"><header class="px-4 md:flex md:items-stretch md:justify-between"><h1 class="md:flex-auto font-bold"><a href="/" class="text-5xl hover:underline router-link-active">Nick DeNardis</a> <p class="text-gray-700">User experience, code, higher education, analytics and accessibility.</p></h1> <nav aria-label="Main" id="nav" class="md:self-center"><ul class="list-none py-3"><li class="inline-block"><a href="/about/" class="p-4 pl-0 md:p-4 page-link underline hover:no-underline">About Nick DeNardis</a></li><li class="inline-block"><a href="/a11y/" class="p-4 pl-0 md:p-4 page-link underline hover:no-underline">Accessibility</a></li><li class="inline-block"><a href="/2021/11/08/introduction-to-user-experience-course/" class="p-4 pl-0 md:p-4 page-link underline hover:no-underline">User experience</a></li><li class="inline-block"><a href="/feeds/" class="p-4 pl-0 md:p-4 page-link underline hover:no-underline">/Feeds</a></li></ul></nav></header> <main id="main" class="prose prose-xl min-w-full mx-6 lg:mx-4 my-10"><article class="pt-10 sm:mx-12 lg:mx-20 xl:mx-24"><div class="text-center"><h1>Getting Cypress JS to interact with CKEditor</h1> <time datetime="2018-07-16" class="inline-block border-b-4 border-gray-500 pb-4">July 16th, 2018</time></div> <div class="content__default"><p>BecauseÂ .type()Â doesnâ€™t submit when selecting theÂ textarea.</p> <p>[caption id=&quot;attachment_1584&quot; align=&quot;alignnone&quot; width=&quot;797&quot;]<img src="/images/Screen-Shot-2018-07-15-at-1.26.42-PM.png" alt="CKEditor"> CkEditor iframe with custom toolbar[/caption]</p> <p>While writing a fewÂ <a href="https://www.cypress.io/" target="_blank" rel="noopener noreferrer">Cypress.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>Â tests I ran into a problem of manipulating text in aÂ <a href="https://ckeditor.com/" target="_blank" rel="noopener noreferrer">CKEditor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>Â window.</p> <p>Without diving completely into how CKEditor implements the editable iframe, my first thought was to use the nativeÂ <code>textarea</code>Â field and skip adding content to theÂ <a href="https://en.wikipedia.org/wiki/WYSIWYG" target="_blank" rel="noopener noreferrer">WYSIWYG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>Â all together.</p> <h4 id="using-the-native-type-function"><a href="#using-the-native-type-function" class="header-anchor">#</a> Using the nativeÂ <code>type()</code>Â function</h4> <p>// The underlying `textarea`</p> <p>cy.get(&quot;#html_body&quot;)
.type(&quot;</p><p>HTML body</p>&quot;);<p></p> <p>[caption id=&quot;attachment_1585&quot; align=&quot;alignleft&quot; width=&quot;348&quot;]<img src="/images/Screen-Shot-2018-07-15-at-1.51.04-PM.png" alt="Cypress native type command"> Cypress error, canâ€™t type in hiddenÂ inputs[/caption]</p> <p>Cypress doesnâ€™t like typing into hidden input element elements.</p> <p>Adding theÂ <code>force:true</code>Â config doesnâ€™t fare much better. With Javascript turned on, CKEditor overwrites theÂ <code>textarea</code>Â on submit and that value is lost. ğŸ˜’</p> <h4 id="cypress-interacting-with-an-iframe"><a href="#cypress-interacting-with-an-iframe" class="header-anchor">#</a> Cypress interacting with anÂ iFrame</h4> <p>Next stop is to search â€œ<a href="https://www.google.com/search?q=cypress%20type%20in%20ckeditor" target="_blank" rel="noopener noreferrer">cypress type in ckeditor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>â€ which leads to the issueÂ <a href="https://github.com/cypress-io/cypress/issues/136" target="_blank" rel="noopener noreferrer">Cannot target elements inside of an iframe #136<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Reading through the working examples lead to something like this:</p> <p>// Find the `contenteditable` element within the iframe and type</p> <p>cy.get(&quot;#html_body&quot;)
.then(function ($iframe) {
const $body = $iframe.contents().find(&quot;body&quot;);</p> <div class="language- extra-class"><pre><code>cy.wrap($body\[0\])
  .type(&quot;&lt;p&gt;HTML body&lt;/p&gt;&quot;);
</code></pre></div><p>});</p> <p>[caption id=&quot;attachment_1586&quot; align=&quot;alignnone&quot; width=&quot;644&quot;]<img src="/images/Screen-Shot-2018-07-15-at-2.05.03-PM.png" alt="Cypress doesn't error"> Doesnâ€™t error, but also doesnâ€™tÂ submit[/caption]</p> <p>This does find the DOM element and says that it was typed, but it doesnâ€™t actually result in the words being visible in the CKEditor or submitted with the form. ğŸ˜¢</p> <h4 id="interacting-with-js-page-objects"><a href="#interacting-with-js-page-objects" class="header-anchor">#</a> Interacting with JS pageÂ objects</h4> <p>Last ditch effort is to break outside of Cypress and set the data in CKEditor natively then try to make the same call from within the Cypress test.</p> <p>CKEditor hasÂ <code>[setData()](https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR_editor.html#method-setData)</code>Â andÂ <code>[getData()](https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR_editor.html#method-getData)</code>Â functions for getting contents in and out of the editor window.</p> <p>// Set the contents of the CKEditor natively on the page</p> <p>CKEDITOR_.<em>instances[&quot;html_body&quot;]</em>._setData(&quot;</p><p>HTML body</p>&quot;);<p></p> <p>Now to call that from within Cypress, led to a search for â€œ<a href="https://www.google.com/search?q=cypress%20get%20page%20JS%20objects" target="_blank" rel="noopener noreferrer">cypress get page JS objects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>â€ and then to this issue:Â <a href="http://how%20can%20i%20execute%20a%20javascript%20command%20/#897" target="_blank" rel="noopener noreferrer">How can I execute a JavaScript command #897<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>Â and theÂ <code>[.window()](https://docs.cypress.io/api/commands/window.html#Syntax)</code> <a href="https://docs.cypress.io/api/commands/window.html#Syntax" target="_blank" rel="noopener noreferrer">function<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="success"><a href="#success" class="header-anchor">#</a> Success!</h4> <p>// Call out to the page window and use the CKEDITOR object</p> <p>cy_._window()
_.<em>then(win =&gt; {
win</em>.<em>CKEDITOR</em>.<em>instances[&quot;html_body&quot;]</em>._setData(&quot;</p><p>HTML body</p>&quot;);
});<p></p> <p>[caption id=&quot;attachment_1587&quot; align=&quot;alignnone&quot; width=&quot;668&quot;]<img src="/images/Screen-Shot-2018-07-15-at-2.21.08-PM.png" alt="Setting the content of CKEditor with Javascript"> Setting the content of CKEditor with Javascript[/caption]</p> <h4 id="turning-the-solution-into-a-reusable-command"><a href="#turning-the-solution-into-a-reusable-command" class="header-anchor">#</a> Turning the solution into a reusableÂ command</h4> <p>// Define the command</p> <p>Cypress.Commands.add(&quot;type_ckeditor&quot;, (element, content) =&gt; {
cy.window()
.then(win =&gt; {
win.CKEDITOR.instances[element].setData(content);
});
});</p> <p>// Use the command</p> <p>cy_._type_ckeditor(&quot;html_body&quot;, &quot;</p><p>HTML body</p>&quot;);<p></p> <p>With this approach it is possible to use any of theÂ <code>[CKEDITOR.editor](https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR_editor.html)</code> <a href="https://docs.ckeditor.com/ckeditor4/latest/api/CKEDITOR_editor.html" target="_blank" rel="noopener noreferrer">object functions.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></article></main> <footer id="footer" class="pt-3 border-t border-solid border-1 border-gray-400"><p><span><a href="https://twitter.com/nickdenardis" rel="me" class="hover:underline p-3">Twitter</a> Â· 
    </span><span><a href="https://www.instagram.com/devhomeownership/" rel="me" class="hover:underline p-3">Instagram</a> Â· 
    </span><span><a href="https://github.com/nickdenardis/nickdenardis.com" rel="me" class="hover:underline p-3">Github</a> Â· 
    </span><span><a href="https://indieweb.social/@nickdenardis" rel="me" class="hover:underline p-3">Mastodon</a> Â· 
    </span> <span class="p-3">Powered by VuePress</span></p></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a998b7f8.js" defer></script><script src="/assets/js/1.45d583a6.js" defer></script><script src="/assets/js/172.45b8204f.js" defer></script>
  </body>
</html>
